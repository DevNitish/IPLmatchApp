"use strict";var myipl=angular.module("myipl",["ui.router","ngFileUpload"]);myipl.controller("mainCtrl",["$scope","$http","$timeout","$state","$rootScope","Upload","getScore","liveScoreSimulator",function(e,t,o,r,l,s,a,n){l.user={name:"",mobile:null,email:"",idurl:"",password:""},e.picFile="",e.uploadPic=function(t){t.upload=s.upload({url:"https://api.cloudinary.com/v1_1/ddj0lavqa/upload",data:{upload_preset:"lvpnw5ma",tags:"myphotoalbum",context:"photo="+e.title,file:t}}),t.upload.then(function(e){l.user.idurl=e.data.secure_url,console.log("url ",e.data),o(function(){t.result=e.data})},function(t){t.status>0&&(e.errorMsg=t.status+": "+t.data)},function(o){t.progress=Math.min(100,parseInt(100*o.loaded/o.total)),100===t.progress&&(e.picFile="")})},e.alertClass="",e.message="",l.liveScore={},e.getUser=function(){t.get("/getUser").then(function(e){console.log("users===>",e),l.users=e.data})},e.saveUser=function(){console.log(" the user is ",l.user),l.user._id?t.post("/editUser",l.user).then(function(e){l.user={name:"",mobile:null,email:"",idurl:"",password:""}}):t.post("/saveUser",l.user).then(function(t){console.log("res",t),t.data.err?(e.alertClass="alert alert-danger",e.message=t.data.err):(e.alertClass="alert alert-success",l.savedUser=t.data,e.message="Registered! Redirecting...",r.go("home",{user:t.data}))})},e.editUser=function(e){l.user=e},e.deleteUser=function(e){console.log("delete the user",e._id),t.post("/deleteUser",e).then(function(e){console.log("deleted",e)})}}]),myipl.value("myscore",{}),myipl.factory("getScore",["$rootScope","$interval","myscore",function(e,t,o){var r={};return r.get=function(e){return e},r}]),myipl.factory("liveScoreSimulator",["getScore","$interval",function(e,t){var o=0;return t(function(){e.get(o),o++},3e3,5),null}]);
"use strict";myipl.config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/registration"),t.state("registration",{url:"/registration",templateUrl:"views/registration.html",controller:"mainCtrl"}).state("home",{url:"/home",templateUrl:"views/home.html",controller:"mainCtrl"}).state("matches",{url:"/matches",templateUrl:"views/match.html",controller:"mainCtrl"}).state("contact",{url:"/contact",templateUrl:"views/contact.html",controller:"mainCtrl"}).state("teams",{url:"/teams",templateUrl:"views/teams.html",controller:"teamCtrl"}).state("livescore",{url:"/livescore",templateUrl:"views/livescore.html",controller:"liveCtrl"}).state("teaminfo",{url:"/:name/:img/:season",templateUrl:"views/teaminfo.html",params:{data:null,teaminfo:null},controller:["$scope","$rootScope","$state","$stateParams","$http","match","teaminfo",function(t,e,a,l,o,n,r){t.allSeason=[],t.match=n,t.year=l.season,console.log(n),t.teaminfo=r,t.callallSeason=function(){a.param;for(l.season;l.season>=2008;l.season--)t.allSeason.push(parseInt(l.season))},t.callallSeason(),t.findMatch=function(e){var a={name:l.name,season:e};console.log("obj",a),t.year=e,o.post("/findTeamDetails",a).then(function(e){t.match=e.data})},console.log(l,t.allSeason)}],resolve:{match:["$stateParams","$http",function(t,e){return t.data?t.data:e.post("/findTeamDetails",t).then(function(t){return t.data})}],teaminfo:["$stateParams","$http",function(t,e){return{name:t.name,imageurl:t.img}}]}})}]);
"use strict";myipl.controller("liveCtrl",["$scope","$http","$interval","$state","$stateParams","$rootScope","getScore",function(t,e,o,c,n,r,u){t.currentMatch=[],t.score=0;!function(){e.get("../includes/forOnlyDemo/shvsrcb.json").then(function(e){t.currentMatch=e.data})}(),t.test=u.get(),t.count=0,t.liveScoreSimulator=function(){t.count=0,o(function(){console.log(t.count),t.count++},3e3,t.currentMatch.length)},t.liveScoreSimulator()}]);
"use strict";myipl.controller("teamCtrl",["$scope","$http","$timeout","$state","$stateParams","$rootScope",function(a,e,t,n,o,m){a.allTeam=[],a.getAllTeam=function(){e.get("/getAllTeam").then(function(e){a.allTeam=e.data})},a.lastSeason="2016",a.currentTeam={},a.currentTeamInfo=[],a.moreInfo=function(t){var o={};o.name=t.name,o.season=a.lastSeason,a.currentTeam=t,e.post("/findTeamDetails",o).then(function(e){e.data.length?(console.log("res=",e.data),a.currentTeamInfo=e.data,n.go("teaminfo",{name:a.currentTeam.name,season:a.lastSeason,img:t.imageurl,data:e.data})):(a.lastSeason--,a.moreInfo({name:a.currentTeam.name,season:a.lastSeason}))})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5wdWJsaWMuanMiLCJhcHAucm91dGUuanMiLCJsaXZlQ3RybC5qcyIsInRlYW1DdHJsLmpzIl0sIm5hbWVzIjpbIm15aXBsIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkaHR0cCIsIiR0aW1lb3V0IiwiJHN0YXRlIiwiJHJvb3RTY29wZSIsIlVwbG9hZCIsImdldFNjb3JlIiwibGl2ZVNjb3JlU2ltdWxhdG9yIiwibmFtZSIsIm1vYmlsZSIsImVtYWlsIiwiaWR1cmwiLCJwaWNGaWxlIiwiZmlsZSIsInVwbG9hZFBpYyIsInVwbG9hZCIsInVybCIsImRhdGEiLCJ1cGxvYWRfcHJlc2V0IiwidGFncyIsInRpdGxlIiwiY29udGV4dCIsInRoZW4iLCJyZXNwb25zZSIsInVzZXIiLCJzZWN1cmVfdXJsIiwiY29uc29sZSIsInN0YXR1cyIsImVycm9yTXNnIiwiZXZ0IiwicHJvZ3Jlc3MiLCJtaW4iLCJNYXRoIiwicGFyc2VJbnQiLCJsb2FkZWQiLCJ0b3RhbCIsImFsZXJ0Q2xhc3MiLCJtZXNzYWdlIiwiZ2V0VXNlciIsImdldCIsInN1Y2Nlc3NDYWxsYmFjayIsImxvZyIsInVzZXJzIiwic2F2ZVVzZXIiLCJwb3N0IiwiZXJyIiwic2F2ZWRVc2VyIiwiZWRpdFVzZXIiLCJkZWxldGVVc2VyIiwiX2lkIiwiZmFjdG9yeSIsIiRpbnRlcnZhbCIsIm15c2NvcmUiLCJvYmoiLCJ2YWwiLCJjb3VudCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ0ZW1wbGF0ZVVybCIsInRlYW1pbmZvIiwiYWxsU2Vhc29uIiwibWF0Y2giLCIkc3RhdGVQYXJhbXMiLCJjYWxsYWxsU2Vhc29uIiwicGFyYW0iLCJ5ZWFyIiwic2Vhc29uIiwiZmlyc3QiLCJwdXNoIiwicmVzIiwicmVzb2x2ZSIsImltYWdldXJsIiwiaW1nIiwic2NvcmUiLCJnZXRkZWxpdmVyaWVzIiwidGVzdCIsImxlbmd0aCIsImdldEFsbFRlYW0iLCJhbGxUZWFtIiwibGFzdFNlYXNvbiIsImN1cnJlbnRUZWFtIiwidGVhbSIsImN1cnJlbnRUZWFtSW5mbyIsIm1vcmVJbmZvIiwiZ28iXSwibWFwcGluZ3MiOiJZQUNBLElBQUlBLE9BQU9DLFFBQVFDLE9BQU8sU0FBUyxZQUFZLGdCQUUvQ0YsT0FBTUcsV0FBVyxZQUFhLFNBQVMsUUFBUSxXQUFXLFNBQVMsYUFBYSxTQUFTLFdBQVcscUJBQXNCLFNBQVNDLEVBQU9DLEVBQU1DLEVBQVNDLEVBQU9DLEVBQVdDLEVBQU9DLEVBQVNDLEdBQTNMWCxFQUFNRyxNQUNKSyxLQUFBQSxHQUNDSSxPQUFBQSxLQUNGQyxNQUFBQSxHQUNBQyxNQUFBQSxHQUNBQyxTQUFBQSxJQUlDWCxFQUFBWSxRQUFBLEdBQ0VaLEVBQU9ZLFVBQVAsU0FBQUMsR0FDQWIsRUFBQUEsT0FBT2MsRUFBWUMsUUFDbkJGLElBQUFBLG1EQUNFRyxNQUNBQyxjQUFNLFdBQ0pDLEtBQUFBLGVBQ0FDLFFBQUFBLFNBQU1uQixFQUFBb0IsTUFDTkMsS0FBQUEsS0FJUlIsRUFBQUUsT0FBQU8sS0FBQSxTQUFBQyxHQUNJVixFQUFBVyxLQUFBYixNQUFpQlksRUFBVUEsS0FBVkUsV0FDYnJCLFFBQUFBLElBQUFBLE9BQUFtQixFQUFzQkEsTUFDdEJHLEVBQUFBLFdBQ0Z4QixFQUFBQSxPQUFTcUIsRUFBQU4sUUFFUixTQUZETSxHQUhGQSxFQU1HSSxPQUFVSixJQUNYdkIsRUFBQTRCLFNBQWFELEVBQWJBLE9BQ1NDLEtBQUFBLEVBQVdMLE9BQ3JCLFNBQUVNLEdBRURoQixFQUFBQSxTQUFLaUIsS0FBTEMsSUFBZ0JDLElBQUFDLFNBQWNBLElBQVNKLEVBQUFLLE9BQVlBLEVBQVpDLFFBQzlCTCxNQUFUakIsRUFBQWlCLFdBRUU5QixFQUFBQSxRQUFPWSxPQUtmWixFQUFBQSxXQUFPb0MsR0FDTnBDLEVBQUFBLFFBQU9xQyxHQUVSakMsRUFBQUEsYUFDQUosRUFBQUEsUUFBT3NDLFdBQ0hy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RyxXQUdGQyxFQUFPZ0YsV0FBYSxXQURwQmhGLEVBQU9pRixJQUFQLGVBQUEzRCxLQUFBLFNBQUFDLEdBQ095RCxFQUFBQSxRQUFhekQsRUFBWU4sUUFHM0JqQixFQUZEa0YsV0FBQSxPQUdIbEYsRUFKRG1GLGVBS0FuRixFQUFPa0YsbUJBQ1BsRixFQUFPbUYsU0FBUCxTQUFBQyxHQUNBcEYsR0FBT3FGLEtBQ1ByRixHQUFPc0YsS0FBUEYsRUFBa0I1RSxLQUNkNkMsRUFBSUEsT0FBSnJELEVBQUFrRixXQUNBN0IsRUFBSTdDLFlBQUo0RSxFQUNBL0IsRUFBSWdCLEtBQUosbUJBQUFoQixHQUFBL0IsS0FBQSxTQUFBQyxHQUlJQSxFQUFBTixLQUFBOEQsUUFJSXJELFFBQUFlLElBQUEsT0FBQWxCLEVBQUFOLE1BRkpqQixFQU1LcUYsZ0JBQUE5RCxFQUFBTixLQUVBakIsRUFBT3FGLEdBQUFBLFlBR0E3RSxLQUFNUixFQUFPbUYsWUFBWTNFLEtBRHZCK0UsT0FBR3ZGLEVBQVlrRixXQUNqQjFFLElBQU1SLEVBQU9tRixTQUNiZCxLQUFPckUsRUFBT2tGLFNBWHRCbEYsRUFBT2tGLGFBRFBsRixFQUFDdUIsVUFDRHZCLEtBQU9rRixFQUFQQyxZQUFBM0UsS0FDQVIsT0FBT3NGLEVBQVNKIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcclxudmFyIG15aXBsPSBhbmd1bGFyLm1vZHVsZSgnbXlpcGwnLFsndWkucm91dGVyJywnbmdGaWxlVXBsb2FkJ10pO1xyXG5cclxubXlpcGwuY29udHJvbGxlcignbWFpbkN0cmwnLCBbXCIkc2NvcGVcIixcIiRodHRwXCIsXCIkdGltZW91dFwiLFwiJHN0YXRlXCIsXCIkcm9vdFNjb3BlXCIsXCJVcGxvYWRcIixcImdldFNjb3JlXCIsXCJsaXZlU2NvcmVTaW11bGF0b3JcIiwgZnVuY3Rpb24oJHNjb3BlLCRodHRwLCR0aW1lb3V0LCRzdGF0ZSwkcm9vdFNjb3BlLFVwbG9hZCxnZXRTY29yZSxsaXZlU2NvcmVTaW11bGF0b3Ipe1xyXG4gICRyb290U2NvcGUudXNlcj17XHJcbiAgIG5hbWU6ICcnLFxyXG5cdG1vYmlsZTpudWxsLFxyXG5cdGVtYWlsOicnLFxyXG5cdGlkdXJsOicnLFxyXG4gICAgcGFzc3dvcmQ6JydcclxufTsgXHJcbiAgXHJcbiAgLy9maWxlIHVwbG9hZCAgXHJcbiAgICAkc2NvcGUucGljRmlsZT1cIlwiO1xyXG4gICAgJHNjb3BlLnVwbG9hZFBpYyA9IGZ1bmN0aW9uKGZpbGUpIHtcclxuICAgIGZpbGUudXBsb2FkID0gVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgIHVybDogXCJodHRwczovL2FwaS5jbG91ZGluYXJ5LmNvbS92MV8xL2RkajBsYXZxYS91cGxvYWRcIixcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHVwbG9hZF9wcmVzZXQ6ICdsdnBudzVtYScsXHJcbiAgICAgICAgdGFnczogJ215cGhvdG9hbGJ1bScsXHJcbiAgICAgICAgY29udGV4dDogJ3Bob3RvPScgKyAkc2NvcGUudGl0bGUsXHJcbiAgICAgICAgZmlsZTogZmlsZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuLy9cclxuICAgIGZpbGUudXBsb2FkLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHJvb3RTY29wZS51c2VyLmlkdXJsPXJlc3BvbnNlLmRhdGEuc2VjdXJlX3VybDtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInVybCBcIixyZXNwb25zZS5kYXRhKVxyXG4gICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZmlsZS5yZXN1bHQgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID4gMClcclxuICAgICAgICAkc2NvcGUuZXJyb3JNc2cgPSByZXNwb25zZS5zdGF0dXMgKyAnOiAnICsgcmVzcG9uc2UuZGF0YTtcclxuICAgIH0sIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgLy8gTWF0aC5taW4gaXMgdG8gZml4IElFIHdoaWNoIHJlcG9ydHMgMjAwJSBzb21ldGltZXNcclxuICAgICAgZmlsZS5wcm9ncmVzcyA9IE1hdGgubWluKDEwMCwgcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKSk7XHJcbiAgICAgIGlmIChmaWxlLnByb2dyZXNzPT09MTAwKXtcclxuICAgICAgICAvL2FsZXJ0KFwiRmlsZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHkhXCIpXHJcbiAgICAgICAgJHNjb3BlLnBpY0ZpbGU9XCJcIjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB9XHJcbi8vZmlsZSB1cGxvYWQgZW5kcyBcclxuJHNjb3BlLmFsZXJ0Q2xhc3M9Jyc7XHJcbiAkc2NvcGUubWVzc2FnZT0nJztcclxuXHJcbiRyb290U2NvcGUubGl2ZVNjb3JlPXt9O1xyXG4kc2NvcGUuZ2V0VXNlcj1mdW5jdGlvbigpe1xyXG4gICAgJGh0dHAuZ2V0KCcvZ2V0VXNlcicpLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInVzZXJzPT09PlwiLHJlc3BvbnNlKVxyXG4gICAgICAgICRyb290U2NvcGUudXNlcnM9cmVzcG9uc2UuZGF0YTtcclxuICAgIH0pXHJcbn0gXHJcblxyXG4kc2NvcGUuc2F2ZVVzZXI9ZnVuY3Rpb24oKXtcclxuICAgIGNvbnNvbGUubG9nKFwiIHRoZSB1c2VyIGlzIFwiLCRyb290U2NvcGUudXNlcik7XHJcbiAgICBpZigkcm9vdFNjb3BlLnVzZXIuX2lkKXsgLy9pZiB1c2VyIGlzIHByZXNlbnQgdGhlbiBlZGl0IHRoZSBpbmZvXHJcbiAgICAgICAgICAgICRodHRwLnBvc3QoJy9lZGl0VXNlcicsJHJvb3RTY29wZS51c2VyKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5XHJcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIHJlc3BvbnNlIGlzIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXI9ey8vcmVzZXQgdGhlIHZhbHVlIG9mICRzY29wZSBhZnRlciBzYXZpbmdcclxuICAgICAgICAgICAgICAgIG5hbWU6ICcnLFxyXG4gICAgICAgICAgICAgICAgbW9iaWxlOm51bGwsXHJcbiAgICAgICAgICAgICAgICBlbWFpbDonJyxcclxuICAgICAgICAgICAgICAgIGlkdXJsOicnLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6JydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7IC8vIGNyZWF0ZSBhIHVzZXIgaWYgdXNlciBpcyBub3QgdGhlcmVcclxuICAgICRodHRwLnBvc3QoJy9zYXZlVXNlcicsJHJvb3RTY29wZS51c2VyKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5XHJcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIHJlc3BvbnNlIGlzIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlc1wiLHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5lcnIpe1xyXG4gICAgICAgICAgICAgICRzY29wZS5hbGVydENsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlPXJlc3BvbnNlLmRhdGEuZXJyO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxlcnRDbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIjtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc2F2ZWRVc2VyPXJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZT0nUmVnaXN0ZXJlZCEgUmVkaXJlY3RpbmcuLi4nO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdob21lJyx7dXNlcjpyZXNwb25zZS5kYXRhfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiRzY29wZS5lZGl0VXNlcj1mdW5jdGlvbih1c2VyKXtcclxuICAgICRyb290U2NvcGUudXNlcj11c2VyO1xyXG59XHJcbiRzY29wZS5kZWxldGVVc2VyPWZ1bmN0aW9uKHVzZXIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGVsZXRlIHRoZSB1c2VyXCIsdXNlci5faWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9kZWxldGVVc2VyJyx1c2VyKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5XHJcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIHJlc3BvbnNlIGlzIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImRlbGV0ZWRcIixyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5cclxuLy9jdHJsIGVuZHNcclxufV0pO1xyXG5teWlwbC52YWx1ZShcIm15c2NvcmVcIix7fSk7XHJcbm15aXBsLmZhY3RvcnkoXCJnZXRTY29yZVwiLFtcIiRyb290U2NvcGVcIixcIiRpbnRlcnZhbFwiLFwibXlzY29yZVwiLGZ1bmN0aW9uKCRyb290U2NvcGUsJGludGVydmFsLG15c2NvcmUpe1xyXG4gICB2YXIgb2JqPXt9O1xyXG4gICBvYmouZ2V0PWZ1bmN0aW9uKHZhbCl7XHJcbiAgICAgICByZXR1cm4gdmFsO1xyXG4gICB9XHJcbiAgIHJldHVybiBvYmo7XHJcbn1dKTtcclxuXHJcbm15aXBsLmZhY3RvcnkoXCJsaXZlU2NvcmVTaW11bGF0b3JcIixbXCJnZXRTY29yZVwiLFwiJGludGVydmFsXCIsZnVuY3Rpb24oZ2V0U2NvcmUsICRpbnRlcnZhbCl7XHJcbiAgICB2YXIgY291bnQgPSAwO1xyXG5cclxuICAgICAgICAkaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBnZXRTY29yZS5nZXQoY291bnQpO1xyXG4gICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgIH0sIDMwMDAsIDUpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIFxyXG59XSkiLCJteWlwbC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG5cclxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9yZWdpc3RyYXRpb24nKTtcclxuXHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG5cclxuICAgICAgICAvLyBIT01FIFNUQVRFUyBBTkQgTkVTVEVEIFZJRVdTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAuc3RhdGUoJ3JlZ2lzdHJhdGlvbicsIHtcclxuICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdHJhdGlvbicsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcmVnaXN0cmF0aW9uLmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkN0cmwnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ2hvbWUnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9ob21lJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9ob21lLmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkN0cmwnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ21hdGNoZXMnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9tYXRjaGVzJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9tYXRjaC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5DdHJsJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0YXRlKCdjb250YWN0Jywge1xyXG4gICAgICAgICAgICB1cmw6ICcvY29udGFjdCcsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29udGFjdC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5DdHJsJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0YXRlKCd0ZWFtcycsIHtcclxuICAgICAgICAgICAgdXJsOiAnL3RlYW1zJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy90ZWFtcy5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3RlYW1DdHJsJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0YXRlKCdsaXZlc2NvcmUnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9saXZlc2NvcmUnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xpdmVzY29yZS5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ2xpdmVDdHJsJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0YXRlKCd0ZWFtaW5mbycsIHtcclxuICAgICAgICAgICAgdXJsOiAnLzpuYW1lLzppbWcvOnNlYXNvbicsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvdGVhbWluZm8uaHRtbCcsXHJcbiAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgICAgIHRlYW1pbmZvOiBudWxsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJHN0YXRlJywgJyRzdGF0ZVBhcmFtcycsICckaHR0cCcsJ21hdGNoJywndGVhbWluZm8nLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJGh0dHAsbWF0Y2gsdGVhbWluZm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2Vhc29uPVtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXRjaD1tYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUueWVhcj0kc3RhdGVQYXJhbXMuc2Vhc29uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1hdGNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGVhbWluZm89dGVhbWluZm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FsbGFsbFNlYXNvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUucGFyYW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3QgPSAyMDA4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICgkc3RhdGVQYXJhbXMuc2Vhc29uOyAkc3RhdGVQYXJhbXMuc2Vhc29uPj0gMjAwODskc3RhdGVQYXJhbXMuc2Vhc29uLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNlYXNvbi5wdXNoKHBhcnNlSW50KCRzdGF0ZVBhcmFtcy5zZWFzb24pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbGxhbGxTZWFzb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maW5kTWF0Y2g9ZnVuY3Rpb24oeWVhcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaj17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6JHN0YXRlUGFyYW1zLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbjp5ZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib2JqXCIsb2JqKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUueWVhcj15ZWFyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLnBvc3QoJy9maW5kVGVhbURldGFpbHMnLG9iaikudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hdGNoPSByZXMuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzdGF0ZVBhcmFtcywgJHNjb3BlLmFsbFNlYXNvbilcclxuXHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICByZXNvbHZlOntcclxuICAgICAgICAgICAgICAgIG1hdGNoOlsnJHN0YXRlUGFyYW1zJywgJyRodHRwJyxmdW5jdGlvbigkc3RhdGVQYXJhbXMsICRodHRwKXtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzdGF0ZVBhcmFtcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2ZpbmRUZWFtRGV0YWlscycsICRzdGF0ZVBhcmFtcykudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICB0ZWFtaW5mbzpbJyRzdGF0ZVBhcmFtcycsICckaHR0cCcsZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCAkaHR0cCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTokc3RhdGVQYXJhbXMubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2V1cmw6JHN0YXRlUGFyYW1zLmltZ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG59XSk7IiwibXlpcGwuY29udHJvbGxlcignbGl2ZUN0cmwnLCBbXCIkc2NvcGVcIiwgXCIkaHR0cFwiLCBcIiRpbnRlcnZhbFwiLCBcIiRzdGF0ZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRyb290U2NvcGVcIixcImdldFNjb3JlXCIsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkaW50ZXJ2YWwsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkcm9vdFNjb3BlLGdldFNjb3JlKSB7XHJcblxyXG4gICAgJHNjb3BlLmN1cnJlbnRNYXRjaCA9IFtdO1xyXG4gICAgJHNjb3BlLnNjb3JlID0gMDtcclxuICAgIHZhciBnZXRkZWxpdmVyaWVzID0gZnVuY3Rpb24gKCkgeyBcclxuICAgICAgICAkaHR0cC5nZXQoJy4uL2luY2x1ZGVzL2Zvck9ubHlEZW1vL3NodnNyY2IuanNvbicpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudE1hdGNoID0gcmVzLmRhdGE7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGdldGRlbGl2ZXJpZXMoKTtcclxuICAgICRzY29wZS50ZXN0PWdldFNjb3JlLmdldCgpO1xyXG4gICAgJHNjb3BlLmNvdW50ID0gMDtcclxuICAgICRzY29wZS5saXZlU2NvcmVTaW11bGF0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHNjb3BlLmNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgJGludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmNvdW50KTtcclxuICAgICAgICAgICAgJHNjb3BlLmNvdW50Kys7XHJcbiAgICAgICAgfSwgMzAwMCwgJHNjb3BlLmN1cnJlbnRNYXRjaC5sZW5ndGgpXHJcbiAgICB9XHJcbiAgICAgICAgJHNjb3BlLmxpdmVTY29yZVNpbXVsYXRvcigpO1xyXG5cclxuXHJcblxyXG4gICAgLy9jdHJsIGVuZHNcclxufV0pOyIsIm15aXBsLmNvbnRyb2xsZXIoJ3RlYW1DdHJsJywgW1wiJHNjb3BlXCIsIFwiJGh0dHBcIiwgXCIkdGltZW91dFwiLCBcIiRzdGF0ZVwiLFwiJHN0YXRlUGFyYW1zXCIsIFwiJHJvb3RTY29wZVwiLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHRpbWVvdXQsICRzdGF0ZSwkc3RhdGVQYXJhbXMsICRyb290U2NvcGUpIHtcclxuXHJcbiAgICAkc2NvcGUuYWxsVGVhbSA9IFtdO1xyXG4gICAgJHNjb3BlLmdldEFsbFRlYW0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJGh0dHAuZ2V0KCcvZ2V0QWxsVGVhbScpLnRoZW4oKHJlc3BvbnNlKSA9PiB7IFxyXG4gICAgICAgICAgICAkc2NvcGUuYWxsVGVhbSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgfSkgXHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLmxhc3RTZWFzb24gPSAnMjAxNic7XHJcbiAgICAkc2NvcGUuY3VycmVudFRlYW0gPSB7fTtcclxuICAgICRzY29wZS5jdXJyZW50VGVhbUluZm89W107XHJcbiAgICAkc2NvcGUubW9yZUluZm8gPSBmdW5jdGlvbiAodGVhbSkge1xyXG4gICAgICAgIHZhciBvYmogPSB7fVxyXG4gICAgICAgIG9iai5uYW1lID0gdGVhbS5uYW1lO1xyXG4gICAgICAgIG9iai5zZWFzb24gPSAkc2NvcGUubGFzdFNlYXNvblxyXG4gICAgICAgICRzY29wZS5jdXJyZW50VGVhbSA9IHRlYW07XHJcbiAgICAgICAgJGh0dHAucG9zdCgnL2ZpbmRUZWFtRGV0YWlscycsIG9iaikudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgLy8gdGhpcyBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseVxyXG4gICAgICAgICAgICAvLyB3aGVuIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGVcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGFzdFNlYXNvbi0tO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1vcmVJbmZvKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuY3VycmVudFRlYW0ubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzZWFzb246ICRzY29wZS5sYXN0U2Vhc29uXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXM9XCIsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50VGVhbUluZm89cmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCd0ZWFtaW5mbycsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmN1cnJlbnRUZWFtLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbjokc2NvcGUubGFzdFNlYXNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nOnRlYW0uaW1hZ2V1cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6cmVzcG9uc2UuZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuIFxyXG4gICAgLy9jdHJsIGVuZHNcclxufV0pOyJdfQ==
